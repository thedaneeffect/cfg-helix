# mise Integration Test Results
## Test Date: 2025-11-26

### Execution: Phase 1.3 - Test mise Installation (Isolated)

## Summary
- **Total tools in config**: 36 (including go: backend tools)
- **Successfully installed**: 33 tools
- **Failed installations**: 3 tools
- **Installation method**: mise install (auto-install from .mise.toml)

## Successfully Installed Tools (33)

### Core Languages & Runtimes (3)
- bun 1.3.3
- go 1.25.4
- zig 0.15.2

### CLI Utilities (20)
- bat 0.26.0
- delta 0.18.2 (git-delta)
- dust 1.2.3
- eza 0.23.4
- fd 10.3.0
- fzf 0.67.0
- gh 2.83.1
- glow 2.1.1
- grex 1.4.6
- jq 1.8.1
- ripgrep 15.1.0
- sd 1.0.0
- starship 1.24.1
- yq 4.49.2
- zellij 0.43.1
- zoxide 0.9.8
- direnv 2.37.1
- ast-grep 0.40.0
- helix 25.07.1
- marksman 2025-11-25

### Development Tools (3)
- golangci-lint 2.6.2
- taplo 0.10.0
- zls 0.15.0

### Go Tools via go: Backend (7)
- air 1.63.4 (go:github.com/air-verse/air)
- golines 0.13.0 (go:github.com/segmentio/golines)
- gofumpt 0.9.2 (go:mvdan.cc/gofumpt)
- golangci-lint-langserver 0.0.11 (go:github.com/nametake/golangci-lint-langserver)
- gopls 0.20.0 (go:golang.org/x/tools/gopls)
- dlv 1.25.2 (go:github.com/go-delve/delve/cmd/dlv)
- docker-language-server 0.20.1 (go:github.com/docker/docker-language-server/cmd/docker-language-server)

## Failed Installations (3)

### 1. btop
**Error**: `unsupported env: darwin/arm64 (supported: {"linux"})`
**Backend**: aqua:aristocratos/btop
**Reason**: btop via aqua backend only supports Linux
**Recommendation**: Keep in Homebrew OR use ubi: backend from GitHub releases
**Action**: Remove from .mise.toml, keep in Homebrew

### 2. tokei
**Error**: `no asset found: tokei-x86_64-apple-darwin.tar.gz, tokei-universal-apple-darwin.tar.gz`
**Backend**: aqua:XAMPPRocky/tokei
**Reason**: Asset naming mismatch for macOS
**Recommendation**: Try ubi: backend OR keep in Homebrew
**Action**: Try alternative backend or remove from .mise.toml

### 3. tldr
**Warning**: `tldr@latest: tldr not found in mise tool registry`
**Reason**: tldr not available in mise registry
**Recommendation**: Keep in Homebrew OR install via npm backend (npm:tldr)
**Action**: Remove from .mise.toml or try npm: backend

## Tool Executability Tests

### Tested Tools
Will verify in next step that installed tools are executable via mise exec:
- bat --version
- rg --version (ripgrep)
- hx --version (helix)
- gopls version

## Configuration Issues

### Settings Warning
**Warning**: `unknown field in ~/projects/dotfiles/.mise.toml: settings.data_dir`
**Resolution**: Removed `data_dir` setting from [settings] section
**Status**: Fixed

## Recommendations for .mise.toml Updates

1. **Remove incompatible tools**:
   - btop (macOS arm64 not supported via aqua)
   - tokei (asset not found for macOS)
   - tldr (not in registry)

2. **Try alternative backends**:
   - btop: `"ubi:aristocratos/btop"` or keep in Homebrew
   - tokei: `"ubi:XAMPPRocky/tokei"` or keep in Homebrew
   - tldr: `"npm:tldr"` or keep in Homebrew

3. **Keep in Homebrew** (fallback):
   - btop
   - tokei (if ubi: fails)
   - tldr (if npm: fails)

## Next Steps

1. Update .mise.toml to remove/fix problematic tools
2. Test tool executability (mise exec -- TOOL --version)
3. Test mise snippet sourcing
4. Proceed to Phase 1.4 - Test Go tools via mise
5. Create rollback plan (Phase 1.5)

## Notes

- Most tools installed successfully (33/36 = 91.7% success rate)
- go: backend works perfectly for all Go tools
- Core CLI tools (bat, ripgrep, fd, fzf, etc.) work well
- Main issues are platform-specific (macOS arm64) compatibility via aqua backend
